import{x as d,y as h,w as p,z as m,A as f,O as u}from"./chunk-JMJ3UQ3L-DtOYCHaw.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{T as j}from"./tv-minimal-play-Bo3GbUzJ.js";import{c as l}from"./createLucideIcon-COvh_PtH.js";import{A as y}from"./app-data-provider-CJkTZiaY.js";import{T as g,a as v}from"./tmdb-configuration-BLNbPS70.js";import{T as N}from"./tmdb-genres-CAPqRW8S.js";import{c as k}from"./client-B_XR4Hye.js";const w=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],b=l("list",w);const M=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],z=l("play",M);const T=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A=l("settings",T);function L({leftAction:s,rightAction:t}){return e.jsx("header",{className:"bg-indigo-500 px-4 pb-4 pt-[calc(env(safe-area-inset-top)+1rem)] text-white shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex w-12 justify-start",children:s&&e.jsx(d,{to:s.to,className:"px-2 text-white hover:opacity-80 transition-opacity",children:s.icon})}),e.jsxs("h1",{className:"text-lg font-bold flex-1 text-center flex items-center justify-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-white"}),"Video Clerk"]}),e.jsx("div",{className:"flex w-12 justify-end",children:t&&e.jsx(d,{to:t.to,className:"px-2 text-white hover:opacity-80 transition-opacity",children:t.icon})})]})})}function o({to:s,text:t,children:n}){return e.jsxs(h,{to:s,className:({isActive:a})=>`flex flex-col items-center gap-1 dark:text-zinc-400 dark:hover:text-indigo-400 ${a?"text-indigo-500":"text-zinc-500 hover:text-indigo-500"}`,children:[n,e.jsx("span",{className:"text-xs font-medium",children:t})]})}function P(){return e.jsxs("nav",{className:"flex items-center justify-around border-t border-zinc-200 bg-zinc-50 pt-3 pb-[calc(env(safe-area-inset-bottom)+0.75rem)] dark:border-zinc-700 dark:bg-zinc-800",children:[e.jsx(o,{to:"/app/watch",text:"Watch",children:e.jsx(z,{})}),e.jsx(o,{to:"/app/list",text:"List",children:e.jsx(b,{})}),e.jsx(o,{to:"/app/settings",text:"Settings",children:e.jsx(A,{})})]})}async function U({request:s}){const t=k(),{data:n,error:a}=await t.auth.getUser();if(a||!n?.user){const i=new URL(s.url),c=i.pathname+i.search;return m(`/login?returnTo=${encodeURIComponent(c)}`)}return n}const O=p(function(){const t=f(),a=t[t.length-1]?.handle,i=a?.leftHeaderAction,c=a?.rightHeaderAction,x=t.map(r=>r.data).find(r=>!!r&&typeof r=="object"&&"user"in r)??{user:null};return e.jsx(y,{data:x,children:e.jsx(g,{children:e.jsx(v,{children:e.jsx(N,{children:e.jsxs("div",{className:"flex h-svh flex-col bg-zinc-100 dark:bg-zinc-900",children:[e.jsx(L,{leftAction:i,rightAction:c}),e.jsx("main",{className:"flex-1 flex flex-col overflow-hidden h-full",children:e.jsx("div",{className:"mx-auto w-full max-w-5xl px-4 md:px-8 lg:px-12 xl:px-16 flex-1 flex flex-col min-h-0",children:e.jsx(u,{})})}),e.jsx(P,{})]})})})})})});export{U as clientLoader,O as default};
