import{j as l}from"./jsx-runtime-u17CrQMm.js";import{a as r}from"./chunk-JMJ3UQ3L-DPj_BNs_.js";import{c as G}from"./tmdb-configuration-BxuIu_6_.js";const x={movieGenres:[],tvGenres:[],error:null},p=r.createContext(x);function D({children:o}){const t=r.useContext(G),[a,c]=r.useState([]),[i,f]=r.useState([]),[u,s]=r.useState(null);return r.useEffect(()=>{if(!t)return;async function m(){if(t){s(null);try{const[e,n]=await Promise.all([t.fetchMovieGenres(),t.fetchTVGenres()]);e?.genres&&c(e.genres),n?.genres&&f(n.genres)}catch(e){console.error("Failed to fetch TMDB genres",e),e instanceof Error?s(e.message):s("An unexpected error occurred")}}}m()},[t]),l.jsx(p,{value:{movieGenres:a,tvGenres:i,error:u},children:o})}export{D as T,p as a};
