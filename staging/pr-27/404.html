<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Redirectingâ€¦</title>
    <meta name="robots" content="noindex" />
  </head>
  <body>
    <script>
      (function () {
        var path = window.location.pathname || "/";
        // If a hashed asset is missing, don't redirect-loop the page. Just serve the 404.
        // (The real fix is ensuring `.nojekyll` is deployed so `_index-...js` isn't excluded.)
        var isAsset =
          path.indexOf("/assets/") !== -1 ||
          /\.(js|css|map|png|jpg|jpeg|gif|svg|webp|ico|txt|xml|json|webmanifest)$/i.test(path);
        if (isAsset) return;

        // Match both `/staging/pr-9` and `/staging/pr-9/...`
        var stagingMatch = path.match(/^\/staging\/pr-\d+(?=\/|$)/);
        var base = stagingMatch ? stagingMatch[0] + "/" : "/";

        // Store the path relative to the base URL so the app can navigate
        // using Expo Router without needing to know the deployment prefix.
        var baseWithoutTrailingSlash = base.slice(0, -1);
        var relativePath = path.slice(baseWithoutTrailingSlash.length) || "/";
        try {
          window.sessionStorage.setItem(
            "__video_clerk_redirect__",
            relativePath + window.location.search + window.location.hash
          );
        } catch (e) {
          // ignore
        }

        window.location.replace(base);
      })();
    </script>
  </body>
</html>

