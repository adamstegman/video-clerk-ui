<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Redirectingâ€¦</title>
    <meta name="robots" content="noindex" />
  </head>
  <body>
    <script>
      (function () {
        var path = window.location.pathname || "/";
        // Don't redirect asset requests
        if (/\.(js|css|map|png|jpg|jpeg|gif|svg|webp|ico|txt|xml|json|webmanifest)$/i.test(path)) return;
        if (path.indexOf("/assets/") !== -1 || path.indexOf("/_expo/") !== -1) return;

        // Find the base URL (staging prefix or root)
        var match = path.match(/^(\/staging\/pr-\d+)(\/.*)?$/);
        var base, subPath;
        if (match) {
          base = match[1] + "/";
          subPath = match[2] || "";
        } else {
          base = "/";
          subPath = path === "/" ? "" : path;
        }

        // Redirect to base with the sub-path encoded in the hash fragment.
        // The inline script in index.html reads the hash and restores the URL
        // via history.replaceState before Expo Router initializes.
        if (subPath) {
          window.location.replace(base + "#__path=" + encodeURIComponent(subPath + window.location.search));
        } else {
          window.location.replace(base);
        }
      })();
    </script>
  </body>
</html>
