import{w as h,t as u,v as l,a}from"./chunk-JMJ3UQ3L-DNRSL2Hf.js";import{j as s}from"./jsx-runtime-u17CrQMm.js";import{c as f}from"./client-B_XR4Hye.js";import{A as g,a as x,b as d}from"./auth-title-B52U22e1.js";import{s as y}from"./utils-ByhHhwOs.js";import"./tv-minimal-play-BP6qWGuh.js";import"./createLucideIcon-DI48LnyD.js";const b=h(function(){const[e]=u(),t=l(),[p,o]=a.useState(!0),[j,n]=a.useState(null);return a.useEffect(()=>{const i=e.get("token_hash"),c=e.get("type"),m=e.get("next")||"/app/settings";i&&c?f().auth.verifyOtp({type:c||"email",token_hash:i}).then(({error:r})=>{r?(n(r.message),t(`/auth/error?error=${encodeURIComponent(r.message)}`)):(window.history.replaceState({},document.title,m),t(m)),o(!1)}):(n("No token hash or type"),t(`/auth/error?error=${encodeURIComponent("No token hash or type")}`),o(!1))},[e,t]),p?s.jsx(g,{children:s.jsxs(x,{children:[s.jsx(d,{children:"Authentication"}),s.jsx("p",{className:`text-sm ${y}`,children:"Confirming your magic link..."})]})}):null});export{b as default};
